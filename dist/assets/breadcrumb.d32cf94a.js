import{j as L,ar as S,aq as T,aH as R,K as $,a as E,o as D,aJ as M,a9 as d,u,k as o,l as i,E as p,y as b,ag as j,F as q,Z as z,x as _,B as f,D as h,$ as G,C as H}from"./vue.09b0b6fd.js";import{L as k}from"./storage.6b2e7cd0.js";import{o as J}from"./other.025d7c4b.js";import{u as K}from"./themeConfig.8c3a6188.js";import{u as U}from"./routesList.03d4b3dd.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import"./preload-helper.101896b7.js";import"./index.cd2848f1.js";import"./index.267886fd.js";import"./_commonjsHelpers.042e6b4d.js";import"./index.b0527c30.js";import"./keepAliveNames.f963730e.js";import"./userInfo.1848b259.js";import"./loading.30ca9f2d.js";import"./tagsViewRoutes.3552ab17.js";import"./index.730cd2ba.js";import"./index.c421c646.js";import"./index.e5604ec3.js";import"./vue-i18n.cjs.d84b7b96.js";import"./toolsValidate.7cb139e2.js";const A={key:0,class:"layout-navbars-breadcrumb"},O={key:0,class:"layout-navbars-breadcrumb-span"},P={key:1},Q={key:2},W=["onClick"],X=L({name:"layoutBreadcrumb"}),Y=L({...X,setup(ee){const B=U(),x=K(),{themeConfig:s}=S(x),{routesList:g}=S(B),c=T(),y=R(),e=$({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),I=E(()=>{m(c.path);const{layout:t,isBreadcrumb:a}=s.value;return t==="classic"||t==="transverse"?!1:!!a}),w=t=>{const{redirect:a,path:n}=t;a?y.push(a):y.push(n)},N=()=>{s.value.isCollapse=!s.value.isCollapse,V()},V=()=>{k.remove("themeConfig"),k.set("themeConfig",s.value)},C=t=>{t.forEach(a=>{e.routeSplit.forEach((n,v,l)=>{e.routeSplitFirst===a.path&&(e.routeSplitFirst+=`/${l[e.routeSplitIndex]}`,e.breadcrumbList.push(a),e.routeSplitIndex++,a.children&&C(a.children))})})},m=t=>{if(!s.value.isBreadcrumb)return!1;e.breadcrumbList=[g.value[0]],e.routeSplit=t.split("/"),e.routeSplit.shift(),e.routeSplitFirst=`/${e.routeSplit[0]}`,e.routeSplitIndex=1,C(g.value),(c.name==="home"||c.name==="notFound"&&e.breadcrumbList.length>1)&&e.breadcrumbList.shift(),e.breadcrumbList.length>0&&(e.breadcrumbList[e.breadcrumbList.length-1].meta.tagsViewName=J.setTagsViewNameI18n(c))};return D(()=>{m(c.path)}),M(t=>{m(t.path)}),(t,a)=>{const n=d("SvgIcon"),v=d("el-breadcrumb-item"),l=d("el-breadcrumb");return u(I)?(o(),i("div",A,[p(n,{class:"layout-navbars-breadcrumb-icon",name:u(s).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:N},null,8,["name"]),p(l,{class:"layout-navbars-breadcrumb-hide"},{default:b(()=>[p(j,{name:"breadcrumb"},{default:b(()=>[(o(!0),i(q,null,z(e.breadcrumbList,(r,F)=>(o(),_(v,{key:r.meta.tagsViewName?r.meta.tagsViewName:r.meta.title},{default:b(()=>[F===e.breadcrumbList.length-1?(o(),i("span",O,[u(s).isBreadcrumbIcon?(o(),_(n,{key:0,name:r.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):f("",!0),r.meta.tagsViewName?(o(),i("div",Q,h(r.meta.tagsViewName),1)):(o(),i("div",P,h(t.$t(r.meta.title)),1))])):(o(),i("a",{key:1,onClick:G(te=>w(r),["prevent"])},[u(s).isBreadcrumbIcon?(o(),_(n,{key:0,name:r.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):f("",!0),H(h(t.$t(r.meta.title)),1)],8,W))]),_:2},1024))),128))]),_:1})]),_:1})])):f("",!0)}}});const Se=Z(Y,[["__scopeId","data-v-cc3d7130"]]);export{Se as default};
